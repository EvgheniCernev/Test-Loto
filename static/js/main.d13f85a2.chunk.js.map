{"version":3,"sources":["helpers/loto.js","components/constans.js","components/LotoInner/LotoInner.js","components/LotoField/LotoField.js","components/Loto/Loto.js","mocks/mocks.js","components/App/App.js","index.js"],"names":["calculateTiket","number","field","includes","filter","ele","rendomNumber","size","_","shuffle","range","FIRST_FIELDS","SECOND_FIELDS","this","props","selectedNumber","onSelectNumber","onClick","className","Component","defaultProps","LotoField","title","subTitle","description","selected","firstField","secondField","conditionSelected","isSecond","length","onSelectNumberSecond","onSelectNumberFirst","alt","rendomSelect","src","fields","map","key","showResult","state","result","setState","params","tempFieldFirst","slice","e","tempSecondFirst","isTicketWon","method","headers","Accept","body","Promise","res","rej","setTimeout","status","then","console","log","catch","Error","generate","firstGeneratedField","secondGeneratedField","undefined","renderWinGame","renderOverGame","renderGame","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d13f85a2.chunk.js","sourcesContent":["import _ from 'lodash'\n\nexport const calculateTiket = (number, field) => {\n  let result\n  if (!field.includes(number)) {\n    result = [...field, number]\n  } else {\n    result = field.filter(ele => {\n      return ele !== number\n    })\n  }\n  return result\n}\n\nexport const rendomNumber = (size = 8) => _.shuffle(_.range(1, size))\n","export const FIRST_FIELDS = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\nexport const SECOND_FIELDS = [1, 2]\n","import React, { Component } from 'react'\n\nexport default class extends Component {\n  static defaultProps = {\n    number: 0\n  }\n\n  render() {\n    const { number, selectedNumber, onSelectNumber } = this.props\n    return (\n      <div\n        onClick={() => {\n          onSelectNumber(number)\n        }}\n        className={`${selectedNumber.includes(number) ? 'loto_inner-number active' : 'loto_inner-number'}`}\n      >\n        {number}\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport LotoInner from 'components/LotoInner'\n\nconst LotoField = ({ title, subTitle, description, ...props }) => {\n  const { firstField, secondField } = props.selected\n\n  const conditionSelected = number => {\n    if (props.isSecond) {\n      return secondField.length <= 0 ? props.onSelectNumberSecond(number) : () => {}\n    } else {\n      return firstField.length <= 8 ? props.onSelectNumberFirst(number) : () => {}\n    }\n  }\n  return (\n    <div className='loto_field'>\n      <div className='loto_text-wrap'>\n        <span className='loto_text'>\n          <b>{title}</b>\n          <br />\n          <b>{subTitle}</b>\n          {description}\n        </span>\n        {!props.isSecond && <img className='loto_magic-wand' alt='' onClick={props.rendomSelect} src='magic-wand.svg' />}\n      </div>\n      <div>\n        {props.fields.map(number => (\n          <LotoInner key={`${number}`} number={number} selectedNumber={props.isSecond ? secondField : firstField} onSelectNumber={conditionSelected} />\n        ))}\n        {props.isSecond && firstField.length >= 8 && secondField.length >= 1 ? (\n          <button onClick={() => props.showResult()} className='loto_btn'>\n            Показать результат\n          </button>\n        ) : null}\n      </div>\n    </div>\n  )\n}\n\nexport default LotoField\n","import React, { Component } from 'react'\nimport { fakeApi } from 'mocks/mocks'\nimport { calculateTiket, rendomNumber } from 'helpers/loto'\nimport { FIRST_FIELDS, SECOND_FIELDS } from 'components/constans'\nimport LotoField from 'components/LotoField'\n\nexport default class extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selected: {\n        firstField: [],\n        secondField: []\n      },\n      generate: {\n        firstGeneratedField: [],\n        secondGeneratedField: []\n      },\n      isTicketWon: undefined\n    }\n  }\n\n  onSelectNumberFirst = number => {\n    const { firstField, secondField } = this.state.selected\n    const result = calculateTiket(number, firstField)\n\n    this.setState({\n      selected: {\n        secondField: secondField,\n        firstField: result\n      }\n    })\n  }\n\n  onSelectNumberSecond = number => {\n    const { secondField, firstField } = this.state.selected\n    const result = calculateTiket(number, secondField)\n\n    this.setState({\n      selected: {\n        firstField: firstField,\n        secondField: result\n      }\n    })\n  }\n\n  showResult = () => {\n    const { firstField, secondField } = this.state.selected\n    let tempFieldFirst = rendomNumber(19)\n      .slice(0, 8)\n      .filter(e => firstField.includes(e))\n    let tempSecondFirst = rendomNumber(2)\n      .slice(1)\n      .filter(e => secondField.includes(e))\n    const result = tempFieldFirst.length >= 3 && tempSecondFirst.length === 1\n\n    this.setState({\n      isTicketWon: result\n    })\n\n    fakeApi('/finch-test', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: {\n        firstField,\n        secondField,\n        isTicketWon: result\n      }\n    })\n      .then(res => console.log(res))\n      .catch(e => {\n        throw new Error('Выбранно не достаточно чисел.')\n      })\n  }\n\n  rendomSelect = () => {\n    this.setState({\n      selected: {\n        firstField: rendomNumber(19).slice(0, 8),\n        secondField: rendomNumber(3).slice(1)\n      }\n    })\n  }\n\n  renderGame() {\n    return (\n      <>\n        <LotoField\n          title={'Билет 1'}\n          subTitle={'Поле 1'}\n          description={' отметьте 8 чисел.'}\n          rendomSelect={this.rendomSelect}\n          onSelectNumberFirst={this.onSelectNumberFirst}\n          onSelectNumberSecond={this.onSelectNumberSecond}\n          fields={FIRST_FIELDS}\n          isSecond={false}\n          {...this.state}\n        />\n        <LotoField\n          subTitle={'Поле 2'}\n          description={' отметьте 1 чисел.'}\n          rendomSelect={this.rendomSelect}\n          onSelectNumberFirst={this.onSelectNumberFirst}\n          onSelectNumberSecond={this.onSelectNumberSecond}\n          fields={SECOND_FIELDS}\n          isSecond={true}\n          showResult={this.showResult}\n          {...this.state}\n        />\n      </>\n    )\n  }\n\n  renderWinGame() {\n    return <div className='loto_field'>Ого, Вы выиграли! Поздравляем! </div>\n  }\n\n  renderOverGame() {\n    return <div className='loto_field'> К сожалению, Вы проиграли!</div>\n  }\n\n  render() {\n    const { isTicketWon } = this.state\n    if (isTicketWon === true) {\n      return <div className='loto_field-container'> {this.renderWinGame()}</div>\n    }\n\n    if (isTicketWon === false) {\n      return <div className='loto_field-container'> {this.renderOverGame()}</div>\n    }\n\n    return <div className='loto_field-container'>{this.renderGame()}</div>\n  }\n}\n","export const fakeApi = (url, params) =>\n  new Promise((res, rej) => {\n    const { firstField, secondField } = params.body\n    if (firstField.length === 8 && secondField.length === 1) {\n      setTimeout(() => {\n        res({ status: 200 })\n      }, 300)\n    } else {\n      setTimeout(() => {\n        rej({ status: 304 })\n      }, 300)\n    }\n  })\n","import React from 'react'\nimport Loto from 'components/Loto'\n\nconst App = () => {\n  return (\n    <div className='loto_app'>\n      <Loto />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from 'components/App/App'\nimport 'styles/styles.scss'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}